<% if user_signed_in? %>
  <nav class="navbar navbar-expand-lg navbar-light">
    <a class="navbar-brand" href="<%= root_path %>"> 
      <%= image_tag("logo.png", alt: "Surtibox Logo", width: 250) %> 
    </a>
    
    <button class="navbar-toggler" 
            type="button" 
            data-toggle="collapse" 
            data-target="#navbarNav" 
            aria-controls="navbarNav" 
            aria-expanded="false" 
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <%= link_to 'Cotizar', calculate_quotes_path, class: "nav-link" %> 
        </li>
        <li class="nav-item divider"></li>
        <li class="nav-item dropdown"> 
          <a class="nav-link dropdown-toggle" 
             href="#" 
             id="navbarDropdown" 
             role="button" 
             data-toggle="dropdown" 
             aria-haspopup="true" 
             aria-expanded="false">
            Cat√°logos 
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown"> 
            <%= link_to 'Materiales', materials_path, class: "dropdown-item", data: { turbo_frame: "main-content" } %>
            <%= link_to 'Procesos', manufacturing_processes_path, class: "dropdown-item", data: { turbo_frame: "main-content" } %>
            <%= link_to 'Herramental', toolings_path, class: "dropdown-item", data: { turbo_frame: "main-content" } %>
            <div class="dropdown-divider"></div>
            <%= link_to 'Unidades de medida', units_path, class: "dropdown-item", data: { turbo_frame: "main-content" } %>
            <%= link_to 'Configuraciones generales', general_configurations_path, class: "dropdown-item", data: { turbo_frame: "main-content" } %>
            <%= link_to 'Equivalencias', unit_equivalences_path_path, class: "dropdown-item", data: { turbo_frame: "main-content" } %>
          </div>
        </li>
        <li class="nav-item divider"></li> 
        <li class="nav-item dropdown"> 
          <a class="nav-link dropdown-toggle" 
             href="#" 
             id="userDropdown" 
             role="button" 
             data-toggle="dropdown" 
             aria-haspopup="true" 
             aria-expanded="false">
            <%= current_user.email %> 
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown"> 
            <%= link_to 'Edit profile', edit_user_registration_path, class: "dropdown-item" %>
            <%= button_to 'Logout', destroy_user_session_path, method: :delete, class: "dropdown-item" %>
          </div>
        </li>
      </ul>
    </div>
  </nav>
<% end %>

<%# Add Bootstrap JavaScript dependencies %>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script> 